{% extends "base.html" %}

{% block title %}ê³ ì¥ íƒì§€ - ìë™ì°¨ ì†ŒìŒ ì´ìƒ íƒì§€{% endblock %}
{% block body_class %}page-md{% endblock %}

{% block content %}
<style>
/* ê¸°ë³¸ì€ ì •ì§€ */
.animated-logo {
    animation-play-state: paused;
}

/* ì‹œí¬ë¦¿ í‚¤ í†µê³¼ í›„ì—ë§Œ ì‹¤í–‰ */
body.secret-unlocked .animated-logo {
    animation-play-state: running;
}
/* ì „ì²´ í™”ë©´ì„ ë®ëŠ” ê²€ì€ ê°€ë¦¼ë§‰ */
.secret-overlay {
    position: fixed;
    inset: 0;                       /* top/right/bottom/left: 0; */
    background: rgba(2, 4, 12, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;                  /* ë§¨ ì•ì— */
}

/* ê°€ìš´ë° ì„œë¸Œ ì°½ */
.secret-modal {
    position: relative;
    max-width: 540px;
    width: 90%;
    padding: 24px 24px 20px;
    border-radius: 24px;
    background: transparent;        /* ì•ˆìª½ë„ ê³µë°± ëŠë‚Œ */
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
}

/* ë¡œê³  ì´ë¯¸ì§€ */
.secret-img {
    max-width: 1400px;
    width: 100%;
    height: auto;
    display: block;
}

/* ì…ë ¥ ë°•ìŠ¤ ì˜ì—­ */
.secret-input-wrap {
    width: 100%;
    text-align: center;
    color: #f5f7ff;
    font-size: 14px;
}

.secret-title {
    margin-bottom: 8px;
    color: #dce5ff;
}

.secret-input {
    width: 100%;
    max-width: 260px;
    padding: 8px 10px;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    background: rgba(10, 14, 40, 0.9);
    color: #f5f7ff;
    outline: none;
    font-size: 14px;
}

.secret-input:focus {
    border-color: #00e5ff;
    box-shadow: 0 0 10px rgba(0, 229, 255, 0.6);
}

.secret-btn {
    margin-top: 10px;
    padding: 8px 26px;
    border-radius: 999px;
    border: none;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    background: linear-gradient(90deg, #00e5ff, #7f5dff);
    color: #020615;
    box-shadow: 0 0 16px rgba(0, 229, 255, 0.6);
}

.secret-btn:hover {
    transform: translateY(-1px);
}

.secret-error {
    margin-top: 8px;
    font-size: 12px;
    color: #ff6b6b;
}

/* ì‹œê°í™” íŒ¨ë„ ì „ì²´ ë°•ìŠ¤ */
.md-viz-panel {
    display: block;
    width: 100%;
    max-width: var(--md-content-width);
    margin: 24px auto 0;   /* ê°€ìš´ë° ì •ë ¬ */
}

/* ì§„ë‹¨ ê²°ê³¼ ë°•ìŠ¤ */
.md-result-box {
    width: 100%;
    max-width: var(--md-content-width);
    margin: 24px auto 0;   /* ìœ„ ì—¬ë°±ì€ ì·¨í–¥ëŒ€ë¡œ */
}
/* ===== ì§„ë‹¨ ê²°ê³¼ ë°•ìŠ¤ ===== */
.md-result-box {
    max-width: 950px;
    margin: 24px auto 40px;
    border-radius: 18px;
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    box-shadow:
        0 18px 40px rgba(0, 0, 0, 0.55),
        0 0 24px rgba(255, 255, 255, 0.85);
    padding: 18px 22px;
    color: #f5f7ff;

    /* ğŸ”¹ ì¹´ë“œ ìì²´ë¥¼ 2ì—´ ê·¸ë¦¬ë“œë¡œ */
    display: grid;
    grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
    gap: 18px;
    align-items: stretch;
}

/* ì™¼ìª½ ì»¬ëŸ¼: ì œëª© + í…ìŠ¤íŠ¸ ì„¸ë¡œ ë°°ì¹˜ */
.md-result-left {
    display: flex;
    flex-direction: column;
}

.md-result-title {
    font-size: 32px;
    font-weight: 700;
    margin-bottom: 10px;
}

.md-result-text {
    font-size: 28px;
    line-height: 1.7;
    white-space: pre-line;
}

/* ì˜¤ë¥¸ìª½ F1 ì»¬ëŸ¼: ì „ì²´ ë†’ì´ ì‚¬ìš© */
.md-result-f1-wrap {
    display: flex;
    flex-direction: column;
    gap: 6px;
    height: 100%;      /* ì¹´ë“œ ë†’ì´ ì „ì²´ */
}

.md-result-f1-title {
    font-size: 13px;
    font-weight: 600;
    color: rgba(255, 255, 255, 0);
    text-align: center;
}

/* ê·¸ë˜í”„ ë°•ìŠ¤ë¥¼ ë‚¨ì€ ê³µê°„ ì „ë¶€ ì±„ìš°ë„ë¡ */
.md-result-f1-box {
    flex: 1;
    background: rgba(5, 10, 30, 0.9);
    border-radius: 12px;
    padding: 8px;
    border: 1px solid rgba(255, 255, 255, 0.85);
    box-shadow: 0 8px 18px rgba(0, 0, 0, 0.5);
    display: flex;
}

.md-result-f1-img {
    width: 100%;
    height: 100%;
    display: block;
    object-fit: contain;
}

/* ëª¨ë°”ì¼ì—ì„œëŠ” ìœ„ì•„ë˜ë¡œ ë¶„ë¦¬ */
@media (max-width: 768px) {
    .md-result-box {
        grid-template-columns: minmax(0, 1fr);
    }
}


/* ===== MD ì‹œê°í™” íŒ¨ë„ ===== */
.md-viz-img {
    width: 100%;
    height: 100%;
    object-fit: contain;   /* ì´ë¯¸ì§€ ë¹„ìœ¨ ìœ ì§€ */
    display: block;
}

.md-viz-panel {
    margin: 24px auto 0;
    max-width: 1000px;
    width: 100%;
    border-radius: 18px;
    background: var(--glass-bg);
    backdrop-filter: blur(22px);
    -webkit-backdrop-filter: blur(22px);
    border: 1px solid var(--glass-border);
    box-shadow:
        0 18px 40px rgba(0, 0, 0, 0.55),
        0 0 24px rgba(255, 255, 255, 0.85);
    overflow: hidden;
    color: #f5f7ff;
    transition: max-height 0.35s ease, opacity 0.25s ease;
}

.md-viz-panel.collapsed {
    max-height: 48px;
    opacity: 0.85;
    overflow: hidden;
}

/* í—¤ë” ì˜ì—­ */
.md-viz-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-height: 10px;
    padding: 18px 22px;
    cursor: pointer;
}

.md-viz-pin {
    border: none;
    background: transparent;
    font-size: 20px;
    cursor: pointer;
    padding: 0;
    transform-origin: center;
    transition: transform 0.25s ease, filter 0.25s ease;
    filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.85));
    margin-right: 8px;
}

.md-viz-panel.collapsed .md-viz-pin {
    transform: rotate(-30deg);
    filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.8));
}

.md-viz-center {
    flex: 1;
    text-align: center;
}

.md-viz-right {
    white-space: nowrap;
}

.md-viz-title {
    font-size: 14px;
    font-weight: 600;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.9);
}

.md-viz-sub {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.65);
}

.md-viz-body {
    padding: 10px 18px 18px;
    border-top: 1px solid rgba(255, 255, 255, 0.08);
}

/* í•œ ì¸µì— ê·¸ë˜í”„ í•˜ë‚˜ì”© */
.md-viz-row {
    display: block;
    margin-bottom: 14px;
}

.md-viz-block-full {
    width: 100%;
}

.md-viz-block-title {
    font-size: 13px;
    font-weight: 600;
    margin-bottom: 4px;
    color: rgba(255, 255, 255, 0.82);
}

.md-viz-canvas-box {
    background: rgba(5, 10, 30, 0.9);
    border-radius: 12px;
    padding: 8px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 8px 18px rgba(0, 0, 0, 0.5);
    min-height: 240px;
}

/* ëª¨ë°”ì¼ì—ì„œë„ í•œ ì¸µì”©ì´ë¯€ë¡œ ë³„ë„ ë³€ê²½ ë¶ˆí•„ìš” */
</style>
<!-- ğŸ”’ ë¹„ë°€í‚¤ ì…ë ¥ ì˜¤ë²„ë ˆì´ -->
<div id="secret-overlay" class="secret-overlay">
  <div class="secret-modal">
    <img src="{{ url_for('static', filename='images/car_logo3.png') }}"
         alt="secret gate"
         class="secret-img">

    <div class="secret-input-wrap">
      <p class="secret-title">ì ‘ì†ì„ ìœ„í•œ ë¹„ë°€ í‚¤ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.</p>
      <input type="password"
             id="secret-input"
             class="secret-input"
             placeholder="Secret key" />

      <button type="button"
              id="secret-submit"
              class="secret-btn">
        í™•ì¸
      </button>

      <p id="secret-error" class="secret-error" style="display:none;">
        ë¹„ë°€ í‚¤ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.
      </p>
    </div>
  </div>
</div>

<div class="content-section active" id="introduction">
    <div class="section-header-small">
        <div class="small-logo2">
            <img src="{{ url_for('static', filename='images/car_logo3.png') }}"
                 alt="Engine Logo"
                 class="header-engine-logo animated-logo">
        </div>
        <div class="small-brand">
            <h3>Car_AnomCar_aly Detection</h3>
            <p>diagnosis team</p>
        </div>
    </div>

    <a class="back-btn" href="{{ url_for('main.index') }}">â† Back to Menu</a>
    
    <!-- Hero Banner -->
    <div class="intro-hero">
        <div class="intro-hero-content">
            <span class="intro-badge">Est.2025</span>
            <h1 class="intro-headline">ìë™ì°¨<br><span>ì´ìƒíƒì§€</span></h1>
            <p class="intro-subtext">
                Provides outstanding analytical capabilities concentrated with cutting-edge AI technology
            </p>         
        </div>
        <div class="intro-hero-visual">
            <div class="intro-floating-card card-1">
                <span class="card-icon">ğŸ›‘</span>
                <span class="card-text">braking state</span>
            </div>
            <div class="intro-floating-card card-2">
                <span class="card-icon">ğŸ…¿ï¸</span>
                <span class="card-text">idle state</span>
            </div>
            <div class="intro-floating-card card-3">
                <span class="card-icon">ğŸ”‘</span>
                <span class="card-text">startup state</span>
            </div>
            <div class="intro-orb"></div>
        </div>
    </div>

    <!-- Metrics Strip -->
    <div class="intro-metrics">
        <div class="metric-item">
            <span class="metric-value" data-target="100">0</span>
            <span class="metric-label">ë¡œë”©ìƒíƒœ</span>
        </div>
        <div class="metric-divider"></div>
        <div class="metric-item">
            <span class="metric-value" data-target="98">0</span>
            <span class="metric-suffix">%</span>
            <span class="metric-label">Credibility</span>
        </div>
        <div class="metric-divider"></div>
        <div class="metric-item">
            <span class="metric-value" data-target="3">0</span>
            <span class="metric-label">ì§„ë‹¨ í´ë˜ìŠ¤</span>
        </div>
        <div class="metric-divider"></div>
        <div class="metric-item">
            <span class="metric-value">25/12/12</span>
            <span class="metric-label">ìµœì í™” MD ê°±ì‹ </span>
        </div>
    </div>

    <!-- ìƒíƒœ ì„ íƒ + ì—…ë¡œë“œ -->
    <div class="md-state-layout">
        <!-- ìƒíƒœ ì¹´ë“œ -->
        <div class="intro-values" id="state-cards">
            <div class="value-card" data-state="braking">
                <div class="value-number">01</div>
                <h3>Braking State</h3>
                <p>ì •ì°¨ìƒíƒœ</p>
            </div>
            <div class="value-card" data-state="startup">
                <div class="value-number">02</div>
                <h3>Startup State</h3>
                <p>ì‹œë™ìƒíƒœ</p>
            </div>
            <div class="value-card" data-state="idle">
                <div class="value-number">03</div>
                <h3>Idle State</h3>
                <p>ì£¼í–‰ìƒíƒœ</p>
            </div>
        </div>

        <!-- ì—…ë¡œë“œ ë°•ìŠ¤ -->
        <div class="md-upload-box">
            <label for="md-audio-file" class="md-upload-label">
                ì—”ì§„ ì†Œë¦¬ íŒŒì¼(.wav)ì„ ì—…ë¡œë“œí•´ ì£¼ì„¸ìš”
            </label>
            <input type="file"
                   id="md-audio-file"
                   accept=".wav,audio/wav">
            <p class="md-upload-help">
                â€» ëª¨ë¸ì€ 1ì´ˆ ê¸¸ì´ì˜ .wav ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.
            </p>
        </div>
    </div>

    <!-- Start ë²„íŠ¼ + ì‹œê°í™” íŒ¨ë„ -->
    <div style="margin-top:10px; text-align:center;">
        <div class="intro-cta-group">
            <button id="md-start-btn" class="intro-cta-primary">ë¶„ì„í•˜ê¸°</button>
        </div>

        <div id="md-viz-panel" class="md-viz-panel collapsed">
            <div class="md-viz-header" id="md-viz-header">
                <!-- ì™¼ìª½ í•€ -->
                <button type="button"
                        class="md-viz-pin"
                        id="md-viz-pin"
                        aria-label="ì‹œê°í™” ì—´ê¸°/ë‹«ê¸°">
                    ğŸ“Œ
                </button>

                <!-- ê°€ìš´ë°: ì œëª© + ì„¤ëª… -->
                <div class="md-viz-center">
                    <div class="md-viz-title">VISUALIZATION</div>
                    <div class="md-viz-sub">
                        Waveform / Spectrogram / FFT magnitude ì‹œê°í™” ê²°ê³¼í™•ì¸
                    </div>
                </div>

                <!-- ì˜¤ë¥¸ìª½ ì•ˆë‚´ ë¬¸êµ¬ -->
                <div class="md-viz-right md-viz-sub">
                    í´ë¦­í•´ì„œ ì—´ê³  ë‹«ê¸°
                </div>
            </div>

            <div class="md-viz-body">
                <!-- 1ì¸µ: Waveform -->
                <div class="md-viz-row">
                    <div class="md-viz-block-full">
                        <div class="md-viz-block-title">Waveform (Time domain)</div>
                        <div class="md-viz-canvas-box">
                            <img id="md-img-waveform" class="md-viz-img" alt="Waveform">
                        </div>
                    </div>
                </div>
                <!-- 2ì¸µ: Mel Spectrogram -->
                <div class="md-viz-row">
                    <div class="md-viz-block-full">
                        <div class="md-viz-block-title">Spectrogram (Mel)</div>
                        <div class="md-viz-canvas-box">
                            <img id="md-img-mel" class="md-viz-img" alt="Mel spectrogram">
                        </div>
                    </div>
                </div>
                <!-- 3ì¸µ: FFT -->
                <div class="md-viz-row">
                    <div class="md-viz-block-full">
                        <div class="md-viz-block-title">FFT magnitude</div>
                        <div class="md-viz-canvas-box">
                            <img id="md-img-fft" class="md-viz-img" alt="FFT magnitude">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="md-result-box" class="md-result-box" style="display:none;">
    <!-- ğŸ”¹ ì™¼ìª½ ì»¬ëŸ¼: ì œëª© + í…ìŠ¤íŠ¸ -->
    <div class="md-result-left">
        <h3 class="md-result-title">ì§„ë‹¨ ê²°ê³¼</h3>
        <div class="md-result-text-wrap">
            <p id="md-result-text" class="md-result-text"></p>
        </div>
    </div>

    <!-- ğŸ”¹ ì˜¤ë¥¸ìª½ ì»¬ëŸ¼: F1 ë°•ìŠ¤ (ê·¸ë˜í”„ ì „ì²´ ë†’ì´) -->
    <div class="md-result-f1-wrap">
        <div class="md-result-f1-title">F1 score (í´ë˜ìŠ¤ë³„)</div>
        <div class="md-result-f1-box">
            <img id="md-img-f1" class="md-result-f1-img" alt="F1 score">
        </div>
    </div>
</div>

    <!-- Tech Stack Preview -->
    <div class="intro-tech">
        <p class="tech-label">Technologies We Master</p>
        <div class="tech-marquee">
            <div class="tech-track">
                <span class="tech-item">Python</span>
                <span class="tech-item">Next.js</span>
                <span class="tech-item">Node.js</span>
                <span class="tech-item">PyTorch</span>
                <span class="tech-item">TensorFlow</span>
                <span class="tech-item">Mongodb</span>
                <span class="tech-item">PyMySQL</span>
                <span class="tech-item">Flask</span>
                <span class="tech-item">VSCode</span>
                <span class="tech-item">Jupyter Notebook/Lab</span>
                <span class="tech-item">CNN</span>
                <span class="tech-item">FFT</span>
                <!-- ë°˜ë³µ -->
                <span class="tech-item">Python</span>
                <span class="tech-item">Next.js</span>
                <span class="tech-item">Node.js</span>
                <span class="tech-item">PyTorch</span>
                <span class="tech-item">TensorFlow</span>
                <span class="tech-item">Mongodb</span>
                <span class="tech-item">PyMySQL</span>
                <span class="tech-item">Flask</span>
                <span class="tech-item">VSCode</span>
                <span class="tech-item">Jupyter Notebook/Lab</span>
                <span class="tech-item">CNN</span>
                <span class="tech-item">FFT</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}


{% block extra_scripts %}
<script>
document.addEventListener("DOMContentLoaded", () => {
  const overlay = document.getElementById("secret-overlay");
  const input   = document.getElementById("secret-input");
  const submit  = document.getElementById("secret-submit");
  const errorEl = document.getElementById("secret-error");

  if (!overlay || !input || !submit) return;

  // ğŸ”‘ ì›í•˜ëŠ” ë¹„ë°€ í‚¤ ê°’
  const SECRET_KEY = "1234";

  // ğŸ”“ ì‹œí¬ë¦¿ í†µê³¼ í›„ ì‹¤í–‰í•  ì• ë‹ˆë©”ì´ì…˜ë“¤
  let introStarted = false;
  function startIntroAnimations() {
    if (introStarted) return;
    introStarted = true;

    // ë¡œê³  ì• ë‹ˆë©”ì´ì…˜ í’€ê¸°
    document.body.classList.add("secret-unlocked");

    // ìˆ«ì ì˜¬ë¼ê°€ëŠ” ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
    if (typeof animateStats === "function") {
      animateStats();
    }
  }

  function tryUnlock() {
    const value = input.value.trim();

    if (value === SECRET_KEY) {
      // ì„±ê³µ: ì˜¤ë²„ë ˆì´ ìˆ¨ê¸°ê³  ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
      overlay.style.display = "none";
      startIntroAnimations();
    } else {
      // ì‹¤íŒ¨: ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
      errorEl.style.display = "block";
    }
  }

  submit.addEventListener("click", tryUnlock);

  input.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {
      e.preventDefault();
      tryUnlock();
    }
  });

  input.focus();
});

document.addEventListener('DOMContentLoaded', () => {
    // í˜ì´ì§€ ì§„ì… ì‹œ ë©”íŠ¸ë¦­ ì• ë‹ˆë©”ì´ì…˜
    // if (document.body.classList.contains('page-md')) {
    //     if (typeof animateStats === 'function') {
    //         animateStats();
    //     }
    // }

    let selectedState = null;
    let isRunning = false;

    // ----- ìƒíƒœ ì¹´ë“œ ì„ íƒ -----
    document.querySelectorAll('#state-cards .value-card').forEach(card => {
        card.addEventListener('click', () => {
            document.querySelectorAll('#state-cards .value-card')
                .forEach(c => c.classList.remove('active'));
            card.classList.add('active');
            selectedState = card.dataset.state;  // braking / idle / startup
        });
    });

    // ----- ì‹œê°í™” íŒ¨ë„ í† ê¸€ -----
    const mdVizPanel  = document.getElementById('md-viz-panel');
    const mdVizHeader = document.getElementById('md-viz-header');
    if (mdVizHeader && mdVizPanel) {
        mdVizHeader.addEventListener('click', () => {
            mdVizPanel.classList.toggle('collapsed');
        });
    }

    // ----- ì´ë¯¸ì§€ src ì—…ë°ì´íŠ¸ -----
    function updateMdImages(images) {
        if (!images) return;
        const ts = Date.now();  // ìºì‹œ ë°©ì§€ìš© ì¿¼ë¦¬ìŠ¤íŠ¸ë§

        if (images.waveform) {
            const el = document.getElementById('md-img-waveform');
            if (el) el.src = images.waveform + '?t=' + ts;
        }
        if (images.mel) {
            const el = document.getElementById('md-img-mel');
            if (el) el.src = images.mel + '?t=' + ts;
        }
        if (images.fft) {
            const el = document.getElementById('md-img-fft');
            if (el) el.src = images.fft + '?t=' + ts;
        }
        if (images.f1) {
            const el = document.getElementById('md-img-f1');
            if (el) el.src = images.f1 + '?t=' + ts;
        }

        if (mdVizPanel) {
            mdVizPanel.classList.remove('collapsed');
        }
    }

    // ----- Start ë²„íŠ¼ â†’ /md/predict í˜¸ì¶œ -----
    const startBtn  = document.getElementById('md-start-btn');
    const fileInput = document.getElementById('md-audio-file');

    if (startBtn) {
        startBtn.addEventListener('click', async () => {
            if (!selectedState) {
                alert('ìƒíƒœ(Braking/Idle/Startup) ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”.');
                return;
            }
            if (!fileInput || !fileInput.files || fileInput.files.length === 0) {
                alert('.wav íŒŒì¼ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.');
                return;
            }

            const fd = new FormData();
            fd.append("state", selectedState);
            fd.append("audio", fileInput.files[0]);

            isRunning = true;

            try {
                const res = await fetch("/md/predict", {
                    method: "POST",
                    body: fd
                });
                const data = await res.json();

                if (!isRunning) return;

                if (data.ok) {
                    const r = data.result;

                    // ì´ë¯¸ì§€ ê°±ì‹ 
                    if (r.images) {
                        updateMdImages(r.images);
                    }

                    // ê²°ê³¼ í…ìŠ¤íŠ¸ êµ¬ì„±
                    let msg = `ìƒíƒœ: ${r.state}\nê²°ê³¼: ${r.label}`;
                    if (typeof r.score === 'number') {
                        msg += `\nì ìˆ˜(score): ${r.score.toFixed(3)}`;
                    }

                    const box    = document.getElementById('md-result-box');
                    const textEl = document.getElementById('md-result-text');
                    if (box && textEl) {
                        textEl.textContent = msg;
                        box.style.display = 'block';
                    }
                } else {
                    alert("ì¶”ë¡  ì‹¤íŒ¨: " + (data.error || 'unknown error'));
                }
            } catch (err) {
                console.error(err);
                if (isRunning) {
                    alert("ì„œë²„ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
                }
            } finally {
                isRunning = false;
            }
        });
    }
});

</script>
{% endblock %}
